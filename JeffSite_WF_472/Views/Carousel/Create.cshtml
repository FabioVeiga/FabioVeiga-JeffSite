@model JeffSite_WF_472.Models.Carousel
@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
<br>
<h1>@ViewData["Title"]</h1>
<br>


@using (Html.BeginForm("Create", "Carousel", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <div class="form-group">
        <label>@Html.DisplayNameFor(Model => Model.Title)</label>
        @Html.EditorFor(model => model.Title, new { htmlAttributes = new { @class = "form-control", type = "text" } })
        @Html.ValidationMessageFor(x => x.Title)
    </div>
    <div class="form-group">
        <label>@Html.DisplayNameFor(Model => Model.Description)</label>
        @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "form-control", type = "text" } })
    </div>
    <div class="form-group">
        <label>@Html.DisplayNameFor(Model => Model.Link)</label>
        @Html.EditorFor(model => model.Link, new { htmlAttributes = new { @class = "form-control", type = "text", value = "http://" } })
    </div>
    <div class="form-group">
        <label>@Html.DisplayNameFor(Model => Model.ExpirationDate)</label>
        @Html.EditorFor(model => model.ExpirationDate, new { htmlAttributes = new { @class = "form-control", type = "date" } })
        <small>Se nao estiver preenchido, ficara para sempre na tela</small>
    </div>
    <div class="form-group">
        <label>@Html.DisplayNameFor(Model => Model.Image)</label>
        @Html.EditorFor(model => model.Image, new { htmlAttributes = new { @class = "form-control", type = "file", accept = "image/*" } })
        <small>Por favor, incluir imagens com no maximo <b>800px</b> de largura e <b>400px</b> de altura</small>
        @Html.ValidationMessageFor(x => x.Image)
    </div>
    @Html.EditorFor(model => model.PathImage, new { htmlAttributes = new { @class = "form-control", type = "hidden", @readonly = "readonly" } })
    @Html.ActionLink("Voltar", "Index", "Carousel")
    <button class="btn btn-primary" type="submit">Salvar</button>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

<script>
    document.getElementById('img').addEventListener('change', changeImg);
    function changeImg() {
        var img = document.getElementById('img').value
        var image = document.getElementById('Image')
        image.value = img
    }
</script>
